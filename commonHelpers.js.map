{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["// функції для HTTP-запитів.\nconst URL = 'https://pixabay.com/api/';\nconst API_KEY = '42552421-44c442bdd9fc0080a82eeb482';\n\nfunction searchImages(query) {\n  const apiUrl = `${URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  // надсилання запиту\n  return fetch(apiUrl)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        throw new Error('No images found for the given query.');\n      }\n      return data.hits;\n    })\n    .catch(error => {\n      console.error('Error fetching images:', error);\n      throw error;\n    });\n}\n\nexport default searchImages;\n","// функції для відображения элементів інтерфейсу\n\n//імпорт бібліотеки\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n// Функція для відображення галереї зображень\nexport const renderGallery = images => {\n  const galleryContainer = document.getElementById('gallery');\n\n  // Очищуємо контейнер галереї від усіх дочірніх елементів\n  while (galleryContainer.firstChild) {\n    galleryContainer.removeChild(galleryContainer.firstChild);\n  }\n\n  // Якщо масив зображень порожній, виводимо сповіщення та перериваємо виконання функції\n  if (images.length === 0) {\n    iziToast.info({\n      title: 'Info',\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n    });\n    return;\n  }\n\n  // Для кожного зображення створюємо картку и додаємо її у контейнер галереї\n  images.forEach(image => {\n    const card = createImageCard(image);\n    galleryContainer.appendChild(card);\n  });\n\n  // Створюємо об'єкт SimpleLightbox\n  const lightbox = new SimpleLightbox('.gallery-item', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n\n  // Поновлюємо SimpleLightbox для обліку нових зображень\n  lightbox.refresh();\n};\n\n// Функція створення картки зображення\nconst createImageCard = image => {\n  const card = document.createElement('a');\n  card.classList.add('gallery-item');\n  card.href = image.largeImageURL;\n\n  const img = document.createElement('img');\n  img.src = image.webformatURL;\n  img.alt = image.tags;\n\n  const infoContainer = document.createElement('div');\n  infoContainer.classList.add('gallery-item-info');\n\n  const likes = createInfoElement('Likes', image.likes);\n  const views = createInfoElement('Views', image.views);\n  const comments = createInfoElement('Comments', image.comments);\n  const downloads = createInfoElement('Downloads', image.downloads);\n\n  // Додаємо элементи інформації у контейнер\n  infoContainer.appendChild(likes);\n  infoContainer.appendChild(views);\n  infoContainer.appendChild(comments);\n  infoContainer.appendChild(downloads);\n\n  card.appendChild(img);\n  card.appendChild(infoContainer);\n\n  return card;\n};\n\n// Створення элемента інформації\nconst createInfoElement = (label, value) => {\n  const infoElement = document.createElement('div');\n  infoElement.classList.add('gallery-item-info-element');\n\n  const labelElement = document.createElement('span');\n  labelElement.textContent = `${label}: `;\n\n  const valueElement = document.createElement('span');\n  valueElement.textContent = value;\n\n  infoElement.appendChild(labelElement);\n  infoElement.appendChild(valueElement);\n\n  return infoElement;\n};\n","// логіка роботи додатку\n// імпорт бібліотеки та модулів\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport searchImages from './js/pixabay-api.js';\nimport { renderGallery } from './js/render-functions.js';\n\n// Посилання на елементи форми пошуку, введення та індикатора завантаження.\nconst searchForm = document.getElementById('search-form');\nconst searchInput = document.getElementById('search-input');\nconst loader = document.querySelector('.loader');\n\n// clearGallery очищує контейнер галереї.\nfunction clearGallery() {\n  const galleryContainer = document.getElementById('gallery');\n  galleryContainer.innerHTML = '';\n}\n\n// hideLoader приховує індикатор завантаження.\nfunction hideLoader() {\n  loader.style.display = 'none';\n}\n\n// showLoader відображає індикатор завантаження.\nconst showLoader = () => {\n  loader.style.display = 'block';\n};\n\n// Обробник події для форми пошуку\nsearchForm.addEventListener('submit', function (event) {\n  event.preventDefault();\n\n  // Отримуємо значення з поля введення і прибираємо пробіли по краях\n  const query = searchInput.value.trim();\n\n  // Очищаємо галерею перед новим пошуком\n  clearGallery();\n\n  // Якщо запит порожній, виводиться попередження, і відбувається очищення галереї\n  if (query === '') {\n    iziToast.warning({\n      title: 'Warning',\n      message: 'Please enter a search term.',\n    });\n    clearGallery(); // Очищення галереї при введенні порожнього рядка\n    return;\n  }\n\n  // Інакше, викликається функція showLoader для відображення індикатора завантаження\n  showLoader();\n\n  // Відправлення запиту до API\n  searchImages(query)\n    .then(images => {\n      if (images.length === 0) {\n        // Якщо зображення не знайдено, виводимо повідомлення про помилку\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again.',\n        });\n      } else {\n        renderGallery(images);\n      }\n    })\n    .catch(error => {\n      console.error('Error in search:', error);\n      iziToast.error({\n        title: 'Error',\n        message: 'An error occurred while fetching images. Please try again.',\n      });\n    })\n    .finally(() => {\n      hideLoader();\n      searchInput.value = '';\n    });\n});\n"],"names":["URL","API_KEY","searchImages","query","apiUrl","response","data","error","renderGallery","images","galleryContainer","image","card","createImageCard","SimpleLightbox","img","infoContainer","likes","createInfoElement","views","comments","downloads","label","value","infoElement","labelElement","valueElement","searchForm","searchInput","loader","clearGallery","hideLoader","showLoader","event","iziToast"],"mappings":"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"}